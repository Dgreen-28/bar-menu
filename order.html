<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Place Order</title>

<style>
    body {
        font-family: Georgia, serif;
        background: #f5deb3;
        text-align: center;
        padding: 40px;
        color: #3a2a1a;
    }

    .poster-box {
        max-width: 600px;
        margin: auto;
        background: #fff8e1;
        border: 4px solid #3a2a1a;
        padding: 30px;
        box-shadow: 0 0 35px rgba(0,0,0,0.35);
    }

    h1 {
        font-size: 42px;
        margin-bottom: 10px;
        letter-spacing: 3px;
    }

    #drink-name {
        font-size: 32px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #2c1a0f;
    }

    input {
        padding: 15px;
        font-size: 20px;
        width: 80%;
        border: 2px solid #3a2a1a;
        background: #fffef6;
        margin-top: 20px;
    }

    button {
        margin-top: 30px;
        padding: 14px 28px;
        font-size: 22px;
        background: #3a2a1a;
        color: white;
        border: none;
        cursor: pointer;
    }

    button:hover {
        background: #5a422c;
    }
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, addDoc } 
from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDhfb6fCqWlMbLjAQA3byGpelIyGlEjL7E",
  authDomain: "bar-menu-76485.firebaseapp.com",
  projectId: "bar-menu-76485",
  storageBucket: "bar-menu-76485.firebasestorage.app",
  messagingSenderId: "1018082681996",
  appId: "1:1018082681996:web:caf04111d8a9ba155ec7a9",
  measurementId: "G-GEVDYJ3WBT"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const drink = new URLSearchParams(window.location.search).get("drink") || "Unknown Drink";
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("drink-name").textContent = drink;
});

window.placeOrder = async function() {
    const name = document.getElementById("name").value.trim();
    if (!name) return alert("Please enter your name");

    await addDoc(collection(db, "drinks"), {
        name: drink,
        orderer: name,
        status: "queued",
        timestamp: Date.now()
    });

    window.location.href = "thanks.html";
};
</script>

</head>

<body>

<div class="poster-box">
    <h1>YOU SELECTED</h1>
    <div id="drink-name"></div>

    <input id="name" placeholder="Enter your name">

    <button onclick="placeOrder()">Place Order</button>
</div>

</body>
</html>
